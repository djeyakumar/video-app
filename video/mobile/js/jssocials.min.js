!function(t,e,s){function r(t,s){var r=e(t);r.data(n,this),this._$element=r,this.shares=[],this._init(s),this._render()}var a="JSSocials",n=a,i=function(t,s){return e.isFunction(t)?t.apply(s,e.makeArray(arguments).slice(2)):t},o=/(\.(jpeg|png|gif|bmp)$|^data:image\/(jpeg|png|gif|bmp);base64)/i,h=/(&?[a-zA-Z0-9]+=)\{([a-zA-Z0-9]+)\}/g,l={G:1e9,M:1e6,K:1e3},u=[];r.prototype={url:"",text:"",showLabel:function(t){return this.showCount===!1?t>this.smallScreenWidth:t>=this.largeScreenWidth},showCount:function(t){return t<=this.smallScreenWidth?"inside":!0},smallScreenWidth:640,largeScreenWidth:1024,resizeTimeout:200,elementClass:"jssocials",sharesClass:"jssocials-shares",shareClass:"jssocials-share",shareButtonClass:"jssocials-share-button",shareLinkClass:"jssocials-share-link",shareLogoClass:"jssocials-share-logo",shareLabelClass:"jssocials-share-label",shareLinkCountClass:"jssocials-share-link-count",shareCountBoxClass:"jssocials-share-count-box",shareCountClass:"jssocials-share-count",shareZeroCountClass:"jssocials-share-no-count",_init:function(t){this._initDefaults(),e.extend(this,t),this._initShares(),this._attachWindowResizeCallback()},_initDefaults:function(){this.url=t.location.href,this.text=e.trim(e("meta[name=description]").attr("content")||e("title").text())},_initShares:function(){this.shares=e.map(this.shares,e.proxy(function(t){"string"==typeof t&&(t={share:t});var s=t.share&&u[t.share];if(!s&&!t.renderer)throw Error("Share '"+t.share+"' is not found");return e.extend({url:this.url,text:this.text},s,t)},this))},_attachWindowResizeCallback:function(){e(t).on("resize",e.proxy(this._windowResizeHandler,this))},_detachWindowResizeCallback:function(){e(t).off("resize",this._windowResizeHandler)},_windowResizeHandler:function(){(e.isFunction(this.showLabel)||e.isFunction(this.showCount))&&(t.clearTimeout(this._resizeTimer),this._resizeTimer=setTimeout(e.proxy(this.refresh,this),this.resizeTimeout))},_render:function(){this._clear(),this._defineOptionsByScreen(),this._$element.addClass(this.elementClass),this._$shares=e("<div>").addClass(this.sharesClass).appendTo(this._$element),this._renderShares()},_defineOptionsByScreen:function(){this._screenWidth=e(t).width(),this._showLabel=i(this.showLabel,this,this._screenWidth),this._showCount=i(this.showCount,this,this._screenWidth)},_renderShares:function(){e.each(this.shares,e.proxy(function(t,e){this._renderShare(e)},this))},_renderShare:function(t){var s;s=e.isFunction(t.renderer)?e(t.renderer()):this._createShare(t),s.addClass(this.shareClass).addClass(t.share?"jssocials-share-"+t.share:"").addClass(t.css).appendTo(this._$shares)},_createShare:function(t){var s=e("<div>"),r=this._createShareLink(t).appendTo(s);if(this._showCount){var a="inside"===this._showCount,n=a?r:e("<div>").addClass(this.shareCountBoxClass).appendTo(s);n.addClass(a?this.shareLinkCountClass:this.shareCountBoxClass),this._renderShareCount(t,n)}return s},_createShareLink:function(s){var r=e("<a>").addClass(this.shareLinkClass).attr({href:this._getShareUrl(s),target:"_blank"}).append(this._createShareLogo(s));if("whatsapp"==s.share)var r=e("<a>").addClass(this.shareLinkClass).attr({href:this._getShareUrl(s)+"?text=Check out this video "+t.encodeURIComponent(this.url),"data-href":t.encodeURIComponent(this.url),"data-text":"Check out this video"}).append(this._createShareLogo(s));return e.each(this.on||{},function(t,a){e.isFunction(a)&&r.on(t,e.proxy(a,s))}),this._showLabel&&r.append(this._createShareLabel(s)),r},_getShareUrl:function(t){var e=i(t.shareUrl,t);return this._formatShareUrl(e,t)},_createShareLogo:function(t){var s=t.logo,r=o.test(s)?e("<img>").attr("src",t.logo):e("<i>").addClass(s);return r.addClass(this.shareLogoClass),r},_createShareLabel:function(t){return e("<span>").addClass(this.shareLabelClass).text(t.label)},_renderShareCount:function(t,s){var r=e("<span>").addClass(this.shareCountClass);s.addClass(this.shareZeroCountClass).append(r),this._loadCount(t).done(e.proxy(function(t){t&&(s.removeClass(this.shareZeroCountClass),r.text(t))},this))},_loadCount:function(t){var s=e.Deferred(),r=this._getCountUrl(t);if(!r)return s.resolve(0).promise();var a=e.proxy(function(e){s.resolve(this._getCountValue(e,t))},this);return e.getJSON(r).done(a).fail(function(){e.get(r).done(a).fail(function(){s.resolve(0)})}),s.promise()},_getCountUrl:function(t){var e=i(t.countUrl,t);return this._formatShareUrl(e,t)},_getCountValue:function(t,s){var r=(e.isFunction(s.getCount)?s.getCount(t):t)||0;return"string"==typeof r?r:this._formatNumber(r)},_formatNumber:function(t){return e.each(l,function(e,s){return t>=s?(t=parseFloat((t/s).toFixed(2))+e,!1):void 0}),t},_formatShareUrl:function(e,s){return e.replace(h,function(e,r,a){var n=s[a]||"";return n?r+t.encodeURIComponent(n):""})},_clear:function(){t.clearTimeout(this._resizeTimer),this._$element.empty()},refresh:function(){this._render()},destroy:function(){this._clear(),this._detachWindowResizeCallback(),this._$element.removeClass(this.elementClass).removeData(n)},option:function(t,e){return 1===arguments.length?this[t]:(this[t]=e,void this.refresh())}},e.fn.jsSocials=function(t){var a=e.makeArray(arguments),i=a.slice(1),o=this;return this.each(function(){var a,h=e(this),l=h.data(n);if(l)if("string"==typeof t){if(a=l[t].apply(l,i),a!==s&&a!==l)return o=a,!1}else l._detachWindowResizeCallback(),l._init(t),l._render();else new r(h,t)}),o};var c=function(t){var s;e.isPlainObject(t)?s=r.prototype:(s=u[t],t=arguments[1]||{}),e.extend(s,t)};t.jsSocials={Socials:r,shares:u,setDefaults:c}}(window,jQuery),function(t,e,s,r){e.extend(s.shares,{email:{label:"E-mail",logo:"fa fa-at",shareUrl:"mailto:?subject={text}&body={url}",countUrl:""},twitter:{label:"Tweet",logo:"fa fa-twitter",shareUrl:"https://twitter.com/share?url={url}&text={text}&via={via}&hashtags={hashtags}",countUrl:"https://cdn.api.twitter.com/1/urls/count.json?url={url}&callback=?",getCount:function(t){return t.count}},facebook:{label:"Like",logo:"fa fa-facebook",shareUrl:"https://facebook.com/sharer/sharer.php?u={url}",countUrl:function(){return"https://graph.facebook.com/fql?q=SELECT total_count FROM link_stat WHERE url='"+t.encodeURIComponent(this.url)+"'"},getCount:function(t){return t.data.length&&t.data[0].total_count||0}},googleplus:{label:"+1",logo:"fa fa-google-plus",shareUrl:"https://plus.google.com/share?url={url}",countUrl:function(){return"https://cors-anywhere.herokuapp.com/https://plusone.google.com/_/+1/fastbutton?url="+t.encodeURIComponent(this.url)},getCount:function(t){return parseFloat((t.match(/\{c: ([.0-9E]+)/)||[])[1])}},linkedin:{label:"Share",logo:"fa fa-linkedin",shareUrl:"https://www.linkedin.com/shareArticle?url={url}",countUrl:"https://www.linkedin.com/countserv/count/share?format=jsonp&url={url}&callback=?",getCount:function(t){return t.count}},pinterest:{label:"Pin it",logo:"fa fa-pinterest",shareUrl:"https://pinterest.com/pin/create/bookmarklet/?media={media}&url={url}&description={text}",countUrl:"https://api.pinterest.com/v1/urls/count.json?&url={url}&callback=?",getCount:function(t){return t.count}},whatsapp:{label:"WhatsApp it",logo:"fa fa-whatsapp",shareUrl:"whatsapp://send",countUrl:"{url}",getCount:function(t){return t.count}}})}(window,jQuery,window.jsSocials);
